<div class="parcel-dashboard">
  <h2>Mes parcelles</h2>

  <div style="margin-bottom:12px;">
    <button mat-stroked-button color="primary" (click)="load()" [disabled]="loading">Rafraîchir</button>
  </div>

  <table class="parcels-table" *ngIf="parcels.length > 0; else noParcelles">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nom</th>
        <th>Surface</th>
        <th>Localisation</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of parcels">
        <td>{{ p.id }}</td>
        <td>{{ p.nom || ('Parcelle ' + p.id) }}</td>
        <td>{{ p.surface ?? '-' }}</td>
        <td>{{ p.localisation || '-' }}</td>
        <td>
          <button mat-stroked-button color="warn" (click)="deleteParcelle(p.id)">Supprimer</button>
        </td>
      </tr>
    </tbody>
  </table>

  <ng-template #noParcelles>
    <div *ngIf="!loading">Aucune parcelle trouvée.</div>
  </ng-template>
</div>